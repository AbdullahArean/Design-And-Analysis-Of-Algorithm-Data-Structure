{"title":{"en":"F. Madoka and The First Session","ru":"F. Мадока и первая сессия"},"contestId":"1717","problemIndex":"F","timeLimit":{"en":"2 seconds","ru":"2 секунды"},"memLimit":{"en":"256 megabytes","ru":"256 мегабайт"},"inputFormat":{"en":"standard input","ru":"стандартный ввод"},"outputFormat":{"en":"standard output","ru":"стандартный вывод"},"problemHtml":{"en":"<p>Oh no, on the first exam Madoka got this hard problem:</p><p>Given integer $$$n$$$ and $$$m$$$ pairs of integers ($$$v_i, u_i$$$). Also there is an array $$$b_1, b_2, \\ldots, b_n$$$, <span class=\"tex-font-style-bf\">initially filled with zeros</span>.</p><p>Then for each index $$$i$$$, where $$$1 \\leq i \\leq m$$$, perform either $$$b_{v_i} := b_{v_i} - 1$$$ and $$$b_{u_i} := b_{u_i} + 1$$$, or $$$b_{v_i} := b_{v_i} + 1$$$ and $$$b_{u_i} := b_{u_i} - 1$$$. Note that exactly one of these operations should be performed for every $$$i$$$.</p><p>Also there is an array $$$s$$$ of length $$$n$$$ consisting of $$$0$$$ and $$$1$$$. And there is an array $$$a_1, a_2, \\ldots, a_n$$$, where it is guaranteed, that if $$$s_i = 0$$$ holds, then $$$a_i = 0$$$.</p><p>Help Madoka and determine whenever it is possible to perform operations in such way that for every $$$i$$$, where $$$s_i = 1$$$ it holds that $$$a_i = b_i$$$. If it possible you should also provide Madoka with a way to perform operations.</p>","ru":"<p>О нет, на первой же сессии Мадоке попался билет со следующей сложной задачей:</p><p>Дано число $$$n$$$ и $$$m$$$ пар чисел ($$$v_i, u_i$$$). А также есть массив $$$b_1, b_2, \\ldots, b_n$$$, <span class=\"tex-font-style-bf\">изначально заполненный нулями</span>.</p><p>Затем для каждого индекса $$$i$$$, где $$$1 \\leq i \\leq m$$$, выполняется либо $$$b_{v_i} := b_{v_i} - 1$$$ и $$$b_{u_i} := b_{u_i} + 1$$$, либо $$$b_{v_i} := b_{v_i} + 1$$$ и $$$b_{u_i} := b_{u_i} - 1$$$. Обратите внимание, что ровно одна из этих операций должна быть выполнена для каждого $$$i$$$.</p><p>Также дан массив $$$s$$$ размера $$$n$$$, состоящий только из $$$0$$$ и $$$1$$$. И массив $$$a_1, a_2, \\ldots, a_n$$$, где гарантируется, что если $$$s_i = 0$$$, то $$$a_i = 0$$$.</p><p>Помогите Мадоке и определите, можно ли выполнить операции выше таким образом, чтобы для каждого $$$i$$$, где $$$s_i = 1$$$, выполнялось $$$a_i = b_i$$$. И если возможно, то как это сделать.</p>"},"inSpecsHtml":{"en":"<div class=\"section-title\">Input</div><p>The first line contains two integers $$$n$$$ and $$$m$$$ ($$$2 \\leq n \\leq 10000, 1 \\leq m \\leq 10000$$$) — the length of the array $$$a$$$ and the number of pair of integers.</p><p>The second line contains $$$n$$$ integers $$$s_1, s_2, \\ldots s_n$$$ ($$$0 \\le s_i \\le 1$$$) — the elements of the array $$$s$$$.</p><p>The third line contains $$$n$$$ integers $$$a_1, a_2, \\ldots, a_n$$$ ($$$|a_i| \\leq m$$$) — the elements of the array $$$a$$$. It is guaranteed that if $$$s_i = 0$$$ holds, then $$$a_i = 0$$$.</p><p>$$$i$$$-th of the following $$$m$$$ lines contains two integers $$$v_i$$$ and $$$u_i$$$ ($$$1 \\leq v_i, u_i \\leq n, v_i \\ne u_i$$$) — the indexes of the elements of the array $$$b$$$ to which the operation is performed. It is also guaranteed that there are no two indices $$$i$$$ and $$$j$$$, where $$$1 \\le i &lt; j \\le m$$$, such that $$$(v_i, u_i) = (v_j, u_j)$$$ or $$$(v_i, u_i) = (u_j, v_j)$$$.</p>","ru":"<div class=\"section-title\">Входные данные</div><p>Первая строка содержит два целых числа $$$n$$$ и $$$m$$$ ($$$2 \\leq n \\leq 10000, 1 \\leq m \\leq 10000$$$) — длина массива $$$a$$$ и количество пар чисел.</p><p>Вторая строка содержит $$$n$$$ целых чисел $$$s_1, s_2, \\ldots s_n$$$ ($$$0 \\le s_i \\le 1$$$) — элементы массива $$$s$$$.</p><p>Третья строка содержит $$$n$$$ целых чисел $$$a_1, a_2, \\ldots, a_n$$$ ($$$|a_i| \\leq m$$$) — элементы массива $$$a$$$. Гарантируется, что если $$$s_i = 0$$$, то $$$a_i = 0$$$.</p><p>$$$i$$$-я из следующих $$$m$$$ строк содержат два целых числа $$$v_i$$$ и $$$u_i$$$ ($$$1 \\leq v_i, u_i \\leq n, v_i \\ne u_i$$$) — индексы элементов массива $$$b$$$, к которым применяется операция. Также гарантируется, что не существует таких двух индексов $$$i$$$ и $$$j$$$, где $$$1 \\le i &lt; j \\le m$$$, что $$$(v_i, u_i) = (v_j, u_j)$$$ или $$$(v_i, u_i) = (u_j, v_j)$$$.</p>"},"outSpecsHtml":{"en":"<div class=\"section-title\">Output</div><p>In the first line print \"<span class=\"tex-font-style-tt\">YES</span>\" if it is possible to perform operations in the required way, and \"<span class=\"tex-font-style-tt\">NO</span>\" otherwise.</p><p>You may print each letter in any case (for example, \"<span class=\"tex-font-style-tt\">YES</span>\", \"<span class=\"tex-font-style-tt\">Yes</span>\", \"<span class=\"tex-font-style-tt\">yes</span>\", \"<span class=\"tex-font-style-tt\">yEs</span>\" will all be recognized as positive answer).</p><p>In case you printed \"<span class=\"tex-font-style-tt\">YES</span>\", print $$$m$$$ pairs of integers. If for pair $$$(v_i, u_i)$$$ we should perform $$$b_{v_i} := b_{v_i} - 1$$$ and $$$b_{u_i} := b_{u_i} + 1$$$, print $$$(v_i, u_i)$$$. Otherwise print $$$(u_i, v_i)$$$. If there are multiple ways to get the correct answer, you can print any of them.</p><p>You can print pairs in any order.</p>","ru":"<div class=\"section-title\">Выходные данные</div><p>Выведите в первой строке «<span class=\"tex-font-style-tt\">YES</span>», если можно выполнить операции нужным образом, и «<span class=\"tex-font-style-tt\">NO</span>» в противном случае.</p><p>Вы можете выводить каждую букву в любом регистре (например, «<span class=\"tex-font-style-tt\">YES</span>», «<span class=\"tex-font-style-tt\">Yes</span>», «<span class=\"tex-font-style-tt\">yes</span>», «<span class=\"tex-font-style-tt\">yEs</span>» будут распознаны как положительный ответ).</p><p>В случае, если вы вывели «<span class=\"tex-font-style-tt\">YES</span>», выведите $$$m$$$ пар целых чисел. Если для пары $$$(v_i, u_i)$$$ нужно выполнить $$$b_{v_i} := b_{v_i} - 1$$$ и $$$b_{u_i} := b_{u_i} + 1$$$, выведите $$$(v_i, u_i)$$$. Иначе выведите $$$(u_i, v_i)$$$. Если существует несколько способов получить правильный ответ, можно вывести любой из них.</p><p>Пары можно выводить в любом порядке.</p>"},"noteHtml":{"en":"<div class=\"section-title\">Note</div><p>In the first example, the array $$$b$$$ will change as follows: $$$[0,0,0,0,0] \\rightarrow [-1,0,0,1,0] \\rightarrow [-2,0,0,1,1] \\rightarrow [-2,0,1,0,1] \\rightarrow [-2,0,2,0,0] \\rightarrow [-2,0,2,1,-1]$$$. $$$a_i = b_i$$$ for all indices $$$i$$$ from $$$1$$$ to $$$5$$$.</p><p>In the second example, it is enough for us that $$$b_2 = 1$$$ at the end, since only $$$s_2 = 1$$$.</p><p>In the third example, the operations cannot be performed as required.</p>","ru":"<div class=\"section-title\">Примечание</div><p>В первом примере массив $$$b$$$ будет меняться следующим образом: $$$[0,0,0,0,0] \\rightarrow [-1,0,0,1,0] \\rightarrow [-2,0,0,1,1] \\rightarrow [-2,0,1,0,1] \\rightarrow [-2,0,2,0,0] \\rightarrow [-2,0,2,1,-1]$$$. $$$a_i = b_i$$$ для всех индексов $$$i$$$ от $$$1$$$ до $$$5$$$.</p><p>Во втором примере нам достаточно, чтобы в конце $$$b_2 = 1$$$, поскольку только $$$s_2 = 1$$$.</p><p>В третьем примере входных данных нельзя выполнить операции нужным образом.</p>"},"sampleTestcases":[{"id":1662129405255,"input":"5 5\n1 1 1 1 1\n-2 0 2 1 -1\n1 5\n1 4\n3 5\n3 4\n4 5\n","output":"YES\n1 4\n1 5\n4 3\n5 3\n5 4\n"},{"id":1662129405256,"input":"5 5\n0 1 0 1 0\n0 1 0 0 0\n1 3\n2 3\n3 5\n3 4\n4 5\n","output":"YES\n1 3\n3 5\n3 2\n3 4\n4 5\n"},{"id":1662129405257,"input":"4 4\n1 1 1 1\n0 2 -2 2\n1 3\n1 4\n2 3\n2 4\n","output":"NO\n"}],"submitUrl":"https://codeforces.com/contest/1717/submit","language":"c++","isPartOfContest":true}